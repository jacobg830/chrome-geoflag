function getHost(e){var t;return t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]}function hideElement(e){document.getElementById(e).className="hidden"}function changeElementText(e,t,n){var o=document.getElementById(t);n&&(o=o.getElementsByClassName(n)[0]),o.innerText=e}chrome.tabs.query({active:!0,currentWindow:!0},function(e){url=e[0].url,chrome.extension.sendMessage({type:"getIP",url:url},function(e){var t=e.domainToIP;if("Unknown"!==t){var n=getHost(url),o=e.domainToCountry;n===t?hideElement("info-domain"):(changeElementText(chrome.i18n.getMessage("domain"),"info-domain","description"),changeElementText(n,"info-domain","value")),changeElementText(chrome.i18n.getMessage("ip"),"info-ip","description"),changeElementText(t,"info-ip","value"),o?(changeElementText(chrome.i18n.getMessage("country"),"info-country","description"),changeElementText(o,"info-country","value")):hideElement("info-country"),document.getElementById("geotool").href="http://geoip.flagfox.net/?ip="+t+"&host="+n,document.getElementById("whois").href="https://whois.domaintools.com/"+n,document.getElementById("wot").href="https://www.mywot.com/scorecard/"+n,document.getElementById("ssltest").href="https://www.ssllabs.com/ssltest/analyze.html?d="+n+"&s="+t}})});